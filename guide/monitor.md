## 监控告警

### 控制台监控告警管理

云内存Redis为用户提供多种类型的监控，包括如使用量、连接数、QPS、 Key数量等多种监控，并可设置监控告警。

![image](/images/guide/redis052906.png)

![image](/images/guide/redis052907.png)

云内存Redis提供默认告警模板的同时，资源监控模板界面支持用户创建告警模板并自定义设置告警监控项。

对于主备Redis不同容量实例共用同一告警模板配置阈值管理时，若需要对于Redis实例性能情况预警，可通过添加监控项“Redis平均负载(%)”或“Redis最高负载(%)”至告警模板中并设置阈值，“Redis最高负载(%)”比“Redis平均负载(%)”更敏感，如出现一次突增达到告警阈值即会触发告警，而“Redis平均负载(%)”则在一分钟内平均负载达到告警阈值后触发告警，用户可根据自身业务情况选择设置。

### 监控项说明

#### 主备版Redis监控项含义

| 监控项                 | 含义                                                      |
| ------------------- | ------------------------------------------------------- |
| 已使用内存量（MB）          | Redis进程实际占用物理内存，单位是MB                                   |
| 连接数量(个)             | 客户端对Redis的连接数量，一分钟采集一次                                  |
| QPS(次/s)            | 每秒钟所有命令操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）               |
| 实例Key数量(个)          | 记录实例中key的数量                                             |
| 命中次数(个)             | 操作redis命令的命中次数，一分钟采集一次                                  |
| 命中率(%)              | 命中数量与操作次数的比率，一分钟采集一次                                    |
| Get QPS(个)          | 每秒钟读请求操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）                |
| Set QPS(个)          | 每秒钟写请求操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）                |
| 实例listQPS(个)        | 实例每秒钟list类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）        |
| 实例stringQPS(个)      | 实例每秒钟string类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）      |
| 实例hashQPS(个)        | 实例每秒钟hash类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）        |
| 实例SetQPS(个)         | 实例每秒钟set类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）         |
| 实例zsetQPS(个)        | 实例每秒钟zset类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）        |
| 实例hyperloglogQPS(个) | 实例每秒钟hyperloglog类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0） |
| 实例pubsubQPS(个)      | 实例每秒钟pubsub类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0）      |
| 实例transactionQPS(个) | 实例每秒钟transaction类型命令的操作次数，一分钟采集一次，并取一分钟的均值（一分钟小于60，则为0） |
| Redis最高负载(%)        | 每3秒钟采集一次，取一分钟内的最大负载值                                   |
| 网卡入带宽(Bps)          | redis收到的网卡带宽，一分钟采集一次                                    |
| 网卡出带宽(KBps)         | redis发送的网卡带宽，一分钟采集一次                                    |
| 内存使用率(%)            | 已使用内存与 购买容量的比率                                          |
| Redis平均负载(%)        | 每3秒钟采集一次，取一分钟内的平均负载值                                    |
| 内存碎片率(%)            | mem_fragmentation_ratio\*100%，用户可以重启Redis降低内存碎片率    |
| 主从同步状态(bool)        | 监控取值：1-主从同步状态正常，0-主从同步状态出现异常需要关注                        |

