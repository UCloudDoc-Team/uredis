# 分布式Redis支持外网访问

分布式Redis目前支持对于主从型代理进行一键配置外网IP地址，用户通过添加客户端IP地址实现外网白名单访问，添加完成后，即可通过公网访问代理外网IP地址进行请求

## 开启外网
1、用户选择需要开启外网的分布式Redis实例，进入代理管理页面，点击详情按钮

![image](/images/proxypublic01.png)

2、在详情页的左边列表，可以看到访问能力的卡片，选择外网访问开关按钮

![image](/images/proxypublic02.png)

2、选择需要设置的外网带宽大小，带宽大小支持 1Mbps~10000Mbps，选择立即购买，用户可以在开启页面选择添加白名单列表，也可以完成开启后自行添加

![image](/images/proxypublic03.png)

3、按步骤开启成功后，在首页和实例详情页均能看到当前代理的外网IP地址

![image](/images/proxypublic04.png)
![image](/images/proxypublic05.png)

## 添加外网白名单
外网访问默认为白名单策略，用户需要把客户端公网IP地址添加到代理白名单列表
1、获取客户端的公网IP地址
- Linux/macOS 操作系统: 终端执行 curl ifconfig.me 获取本机公网IP地址
- Windows 操作系统: 终端执行 curl ip.me 获取本机公网IP地址

2、选择外网访问卡片的 白名单 编辑按钮，通过逗号分隔方式，支持批量添加外网IP和IP段地址
![image](/images/proxypublic07.png)

3、点击 保存 按钮，可以选择 redis-cli/telnet 等工具连接实例验证

4、客户如需增删白名单中的某个IP，需要通过设置最终的白名单列表来实现增减

## 调整外网带宽
用户可根据主备Redis实例详情页查看当前Redis的外网访问带宽大小，根据业务访问量按需调整当前实例的带宽大小
![image](/images/proxypublic06.png)

## 关闭外网
用户确认无业务通过公网访问Redis实例后，可选择关闭外网访问，关闭外网后，外网IP地址会被释放

![image](/images/proxypublic08.png)

## 计费
外网访问计费方式为带宽大小计费，带宽计费周期跟随实例计费周期，具体计费参考 ([外网带宽价格]())

## 注意事项
- 实例购买的带宽为出带宽，即限制从云出到公网的带宽
- 外网带宽小于50Mbps时，该实例入口带宽等于50Mbps，大于50Mbps时，该代理入口带宽等于出口带宽
- 为保护您的实例安全，实例开启外网访问前请确保实例设置完成密码
- 代理发生容灾或者扩容迁移时，外网IP会出现短暂的不可用，恢复时间可能会滞后于内网IP地址的恢复可用时间
- 配置白名单时，空列表默认所有公网客户端地址均禁行，如配置列表包含0.0.0.0/0, 则所有公网客户端地址均可以访问实例



